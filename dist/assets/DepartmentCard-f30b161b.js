import{j as e,i as a,r as j,e as r,b as R,L as T}from"./index-21aef9be.js";import{l as D}from"./iconoTurismoReal_logo-2c08bdb6.js";import{S as N}from"./sweetalert2.all-3c97b21a.js";const P=()=>e.jsx(e.Fragment,{children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",className:"h-5 w-5",children:[e.jsx("path",{d:"M11.47 3.84a.75.75 0 011.06 0l8.69 8.69a.75.75 0 101.06-1.06l-8.689-8.69a2.25 2.25 0 00-3.182 0l-8.69 8.69a.75.75 0 001.061 1.06l8.69-8.69z"}),e.jsx("path",{d:"M12 5.432l8.159 8.159c.03.03.06.058.091.086v6.198c0 1.035-.84 1.875-1.875 1.875H15a.75.75 0 01-.75-.75v-4.5a.75.75 0 00-.75-.75h-3a.75.75 0 00-.75.75V21a.75.75 0 01-.75.75H5.625a1.875 1.875 0 01-1.875-1.875v-6.198a2.29 2.29 0 00.091-.086L12 5.43z"})]})}),q=()=>e.jsx(e.Fragment,{children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1em",viewBox:"0 0 512 512",style:{fill:"currentColor"},"aria-hidden":"true",className:"h-5 w-5",children:e.jsx("path",{d:"M96 77.3c0-7.3 5.9-13.3 13.3-13.3c3.5 0 6.9 1.4 9.4 3.9l14.9 14.9C130 91.8 128 101.7 128 112c0 19.9 7.2 38 19.2 52c-5.3 9.2-4 21.1 3.8 29c9.4 9.4 24.6 9.4 33.9 0L289 89c9.4-9.4 9.4-24.6 0-33.9c-7.9-7.9-19.8-9.1-29-3.8C246 39.2 227.9 32 208 32c-10.3 0-20.2 2-29.2 5.5L163.9 22.6C149.4 8.1 129.7 0 109.3 0C66.6 0 32 34.6 32 77.3V256c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H96V77.3zM32 352v16c0 28.4 12.4 54 32 71.6V480c0 17.7 14.3 32 32 32s32-14.3 32-32V464H384v16c0 17.7 14.3 32 32 32s32-14.3 32-32V439.6c19.6-17.6 32-43.1 32-71.6V352H32z"})})}),E=()=>e.jsx(e.Fragment,{children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1em",viewBox:"0 0 640 512",style:{fill:"currentColor"},"aria-hidden":"true",className:"h-5 w-5",children:e.jsx("path",{d:"M32 32c17.7 0 32 14.3 32 32V320H288V160c0-17.7 14.3-32 32-32H544c53 0 96 43 96 96V448c0 17.7-14.3 32-32 32s-32-14.3-32-32V416H352 320 64v32c0 17.7-14.3 32-32 32s-32-14.3-32-32V64C0 46.3 14.3 32 32 32zm144 96a80 80 0 1 1 0 160 80 80 0 1 1 0-160z"})})}),C=({DURACION:n,CAPACIDAD_PARTICIPANTES:c,VALOR_MINIMO:i,FECHAS:x,onDateChange:s,onTotalCostChange:o})=>{const[m,h]=j.useState(1),f=t=>{if(h(t),o){const d=i*t;o(d)}},g=i*m,u=t=>{s&&s(t)};return e.jsxs(r.Card,{className:" w-full rounded-lg",children:[e.jsx(r.CardHeader,{floated:!1,className:"h-full",children:e.jsx("img",{className:"h-full w-full object-contain rounded-lg",src:"https://images.pexels.com/photos/7903537/pexels-photo-7903537.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",alt:"profile-picture"})}),e.jsxs(r.CardBody,{className:"rounded-lg bg-gray-50 border-gray-900",children:[e.jsxs(r.Typography,{variant:"h6",color:"blue-gray",className:"mb-4 text-center font-semibold",children:["Desde $",i.toLocaleString("de-DE"),"  x persona"]}),e.jsx("div",{className:"w-full p-2",children:e.jsx(r.Select,{color:"blue",className:"text-lg",label:"Fechas disponibles",onChange:t=>u(t),children:x.map((t,d)=>e.jsx(r.Option,{value:t[1],children:t[1]},d))})}),e.jsx("div",{className:"w-full p-2",children:e.jsx(r.Select,{color:"blue",className:"text-lg",label:"Personas",onChange:t=>f(t),children:Array.from({length:c}).map((t,d)=>e.jsxs(r.Option,{value:String(d+1),children:[d+1," personas"]},d))})}),e.jsx("div",{className:"py-2 text-center",children:e.jsxs("p",{className:"text-sm font-light text-gray-700",children:["Duracion del tour es de ",n/60," Hrs."]})}),e.jsx("div",{className:"py-2 font-normal text-base text-center",children:e.jsxs("span",{children:["Total $ ",g.toLocaleString("de-DE")," "]})})]})]})};C.propTypes={DURACION:a.number.isRequired,CAPACIDAD_PARTICIPANTES:a.number.isRequired,VALOR_MINIMO:a.number,FECHAS:a.array.isRequired,onDateChange:a.func.isRequired,onTotalCostChange:a.func.isRequired};const O="https://fastapi-gv342xsbja-tl.a.run.app/solicitar_tour",k=async(n,c)=>{const i=new URLSearchParams({tour_agendado_id:c}).toString();console.log(i);const x=`${O}?${i}`,s={method:"POST",headers:{Accept:"application/json",Authorization:`Bearer ${n}`}};try{const o=await fetch(x,s);if(console.log(o),!o.ok){const m=await o.text();throw new Error(`API Error (${o.status}): ${m}`)}return await o.json()}catch(o){throw new Error("API Error: "+o.message||"Error al reservar tour")}},A=({idTour:n,onClose:c,showModal:i})=>{const x=`https://fastapi-gv342xsbja-tl.a.run.app/tours/${n}`,[s,o]=j.useState(null);j.useEffect(()=>{fetch(x,{method:"GET"}).then(p=>p.json()).then(p=>{o(p)}).catch(p=>console.log(p))},[n,x]);const[m,h]=j.useState(""),f=l=>{h(l)},[g,u]=j.useState(0),t=(l,p,S)=>{N.fire({icon:l,title:p,text:S,confirmButtonText:"Entendido"})},d=()=>{c(),h(""),u(0)},v=l=>{u(l)},{user:b}=R(),y=async()=>{let l="";if(m?g<=0?l="Debe haber al menos un participante seleccionado.":s!=null&&s.TOUR_ID?(!b||!b.access_token)&&(l="Para continuar, debes iniciar sesión."):l="El tour no es válido.":l="Debe seleccionar una fecha para continuar.",l){t("warning","Información Incompleta",l),d();return}try{await k(b.access_token,s.TOUR_ID),t("success","Pago exitoso","¡Tu pago se ha realizado con éxito!"),d()}catch(p){t("error","Error en el pago",p.message||"No se le realizaron cargos. Por favor, intente nuevamente."),d()}};return e.jsx(e.Fragment,{children:e.jsxs(r.Dialog,{open:i,className:"my-auto bg-gray-200",children:[e.jsxs(r.DialogHeader,{className:"text-lg flex justify-between items-center my-auto",children:[e.jsx("span",{children:s==null?void 0:s.NOMBRE_TOUR}),e.jsx("div",{children:e.jsx("img",{className:"h-16 object-cover",src:D,alt:"Logo Real"})}),e.jsxs("div",{className:"grid grid-cols-1 text-xs",children:[e.jsx("span",{children:s==null?void 0:s.NOMBRE_COMUNA}),e.jsx("span",{children:s==null?void 0:s.NOMBRE_REGION})]})]}),s&&e.jsx(r.DialogBody,{className:"flex justify-center items-center overflow-y-auto mt-auto max-h-[calc(100vh-200px)]",children:e.jsx(C,{DURACION:s==null?void 0:s.DURACION,CAPACIDAD_PARTICIPANTES:s==null?void 0:s.CAPACIDAD_PARTICIPANTES,VALOR_MINIMO:s==null?void 0:s.VALOR_MINIMO,FECHAS:s==null?void 0:s.FECHAS,onDateChange:f,onTotalCostChange:v})}),e.jsxs(r.DialogFooter,{children:[e.jsx(r.Button,{variant:"text",color:"red",onClick:c,className:"mr-1",children:e.jsx("span",{children:"Cancelar"})}),e.jsx(r.Button,{variant:"gradient",color:"green",onClick:y,children:e.jsx("span",{children:"Comprar"})})]})]})})};A.propTypes={idTour:a.number.isRequired,onClose:a.func.isRequired,showModal:a.bool.isRequired};const B=({idTour:n,imgSrc:c,qtyPerson:i,description:x,title:s,price:o,status:m})=>{const[h,f]=j.useState("S"),[g,u]=j.useState(!1),t=h===m,d=t?"green":"red",v=t?"Disponible":"Agotado",b=l=>{t?(l.preventDefault(),u(!0)):N.fire({icon:"info",title:"Ups!",text:"No quedan cupos disponibles para este tour",confirmButtonText:"Entendido"})},y=()=>{u(!1)};return e.jsxs("div",{className:"w-full select-none",children:[e.jsxs("div",{className:"rounded overflow-hidden shadow-md",children:[e.jsx("img",{className:"w-full h-88 object-cover object-center",src:c,alt:`Imgen del ${s}`}),e.jsxs("div",{className:"p-4 cursor-pointer ",onClick:b,children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h5",{className:"font-bold text-lg",children:s}),e.jsx(r.Chip,{variant:"ghost",color:d,size:"sm",value:v,icon:e.jsx("span",{className:`mx-auto mt-1 block h-2 w-2 rounded-full ${h===m?"bg-green-900":"bg-red-900"}`})})]}),e.jsx("p",{className:"text-xs flex items-center justify-between",children:"location"}),e.jsx("p",{className:"text-xs font-normal my-4  h-16",children:x}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("p",{className:" text-xs font-light ",children:"Capacidad"}),e.jsx("p",{className:" text-xl ",children:i}),e.jsx("p",{className:"text-xs font-light",children:"Personas"})]}),e.jsx("div",{className:"flex justify-center items-center pt-6",children:e.jsxs("p",{className:" text-xs ",children:["$",o&&o.toLocaleString("de-DE")," desde x persona"]})})]})]}),e.jsx(A,{idTour:n,showModal:g,onClose:y})]})};B.propTypes={idTour:a.number.isRequired,imgSrc:a.string.isRequired,qtyPerson:a.number,description:a.string,title:a.string.isRequired,price:a.number,status:a.string};function w({id:n,open:c}){return e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:`${n===c?"rotate-180":""} h-5 w-5 transition-transform`,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})})}const z=()=>{const[n,c]=j.useState(0),i=x=>c(n===x?0:x);return e.jsxs(e.Fragment,{children:[e.jsxs(r.Accordion,{open:n===1,icon:e.jsx(w,{id:1,open:n}),children:[e.jsx(r.AccordionHeader,{onClick:()=>i(1),children:"Politicas de Reserva"}),e.jsxs(r.AccordionBody,{children:["Anticipación: Las reservas deben realizarse con al menos 48 horas de anticipación.  ",e.jsx("br",{}),"Reservas de última hora están sujetas a disponibilidad.",e.jsx("br",{})," ",e.jsx("br",{}),"Depósito: Se requiere un depósito del 25% al momento de la reserva.  ",e.jsx("br",{}),"El saldo restante deberá pagarse a la llegada.",e.jsx("br",{})," ",e.jsx("br",{}),"Cancelación: Las cancelaciones realizadas con más de 7 días de anticipación recibirán un reembolso completo del depósito. Las cancelaciones realizadas entre 3 y 7 días antes de la fecha de check-in recibirán un reembolso del 50% del depósito.",e.jsx("br",{}),"Las cancelaciones realizadas con menos de 3 días de anticipación no serán reembolsadas.",e.jsx("br",{})," ",e.jsx("br",{}),"Modificaciones: Cualquier cambio en la fecha de reserva está sujeto a disponibilidad y puede incurrir en cargos adicionales."]})]}),e.jsxs(r.Accordion,{open:n===2,icon:e.jsx(w,{id:2,open:n}),children:[e.jsx(r.AccordionHeader,{onClick:()=>i(2),children:"Normas y Reglamento"}),e.jsxs(r.AccordionBody,{children:["No Fumar: Está prohibido fumar en todas las áreas del departamento. Se cobrará una multa por limpieza si se detecta que se ha fumado en el interior.",e.jsx("br",{})," ",e.jsx("br",{}),"Horario de Silencio: Por respeto a los vecinos y otros huéspedes, solicitamos mantener el ruido al mínimo entre las 10:00 p.m. y las 7:00 a.m.",e.jsx("br",{})," ",e.jsx("br",{}),"Mascotas: No se admiten mascotas en las instalaciones. Si se descubre que se ha llevado una mascota al departamento, se cobrará una multa y se podrá solicitar al huésped que abandone la propiedad.",e.jsx("br",{})," ",e.jsx("br",{}),"Daños: Cualquier daño causado al departamento o a sus contenidos será responsabilidad del huésped y se cobrará acorde al costo de reparación o reemplazo."]})]}),e.jsxs(r.Accordion,{open:n===3,icon:e.jsx(w,{id:3,open:n}),children:[e.jsx(r.AccordionHeader,{onClick:()=>i(3),children:"Preguntas frecuentes (FAQs)"}),e.jsxs(r.AccordionBody,{children:["¿Hay WiFi disponible?",e.jsx("br",{})," ",e.jsx("br",{}),"Sí, ofrecemos WiFi gratuito en todo el departamento. Los detalles de acceso se proporcionarán al momento del check-in.",e.jsx("br",{})," ",e.jsx("br",{}),"¿Cómo funciona el sistema de calefacción?",e.jsx("br",{})," ",e.jsx("br",{}),"El departamento cuenta con un sistema centralizado de calefacción. Las instrucciones detalladas están disponibles en el manual del departamento que se encuentra en la sala de estar.",e.jsx("br",{})," ",e.jsx("br",{}),"¿Hay estacionamiento disponible?",e.jsx("br",{})," ",e.jsx("br",{}),"Sí, ofrecemos un espacio de estacionamiento gratuito por departamento. Si necesita estacionamiento adicional, por favor infórmenos con anticipación.",e.jsx("br",{})," ",e.jsx("br",{}),"¿El departamento está equipado con utensilios de cocina y electrodomésticos?",e.jsx("br",{})," ",e.jsx("br",{}),"Sí, el departamento tiene una cocina completamente equipada con todos los utensilios básicos y electrodomésticos, como nevera, horno, microondas y tostadora."]})]})]})};w.propTypes={id:a.number.isRequired,open:a.number.isRequired};const H=({imgSrc:n,title:c,description:i,location:x,tipo:s,identificadorDpto:o,qtyBathroom:m,qtyBed:h,qtyRoom:f,price:g,idApartment:u})=>{const[t,d]=j.useState("Casa"),b=t===s?"brown":"orange";return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"cards  mx-2 max-w-xs  rounded-t-lg bg-white  text-gray-700 shadow-lg font-sans",children:[e.jsx("div",{className:"relative overflow-hidden  bg-blue-gray-500 bg-clip-border text-white drop-shadow-xl shadow-blue-gray-500/40 ",children:e.jsx("img",{src:n,alt:"image 1",className:"h-80 object-center w-full"})}),e.jsxs("div",{className:"p-6",children:[e.jsx(r.Chip,{variant:"ghost",color:b,size:"sm",value:s,icon:e.jsx("span",{className:`mx-auto mt-1 block h-2 w-2 rounded-full ${t===s?"bg-brown-900":"bg-orange-900"}`})}),e.jsxs("div",{className:"mb-3 flex flex-col items-start",children:[e.jsx("h4",{className:"block text-base font-medium leading-snug tracking-normal text-blue-gray-900 antialiased py-2",children:c}),e.jsxs("h6",{className:"text-sm tracking-normal antialiased leading-snug",children:[x," ",o!==null&&` - ${o} `]})]}),e.jsx("div",{className:"flex flex-col items-center",children:e.jsx("p",{className:"block  text-xs font-light leading-relaxed text-gray-700 antialiased h-32 py-6",children:i})}),e.jsxs("div",{children:[e.jsxs("article",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"flex items-center justify-around text-xs font-light leading-relaxed text-gray-700 antialiased",children:[e.jsx(q,{})," Baños: ",m]}),e.jsxs("p",{className:"flex items-center justify-around text-xs font-light leading-relaxed text-gray-700 antialiased",children:[e.jsx(E,{}),"Camas: ",h]})]}),e.jsxs("p",{className:"flex items-center justify-around text-xs font-light leading-relaxed text-gray-700 antialiased",children:[e.jsx(P,{})," Habitaciones: ",f]})]}),e.jsxs("p",{className:"flex justify-evenly items-center pt-5 text-base text-center font-bold leading-relaxed text-gray-900 antialiased ",children:["Precio x Noche: $ ",g.toLocaleString("de-DE")]})]})]}),e.jsx("div",{className:"w-full",children:e.jsx(T,{to:`/departamentos/${u}`,onClick:()=>window.scrollTo(0,0),children:e.jsx("button",{className:" w-full select-none bg-blue-500 py-3.5 px-7 text-sm font-bold uppercase text-white shadow-md shadow-blue-500/20 transition-all hover:shadow-lg hover:shadow-blue-500/40 focus:opacity-[0.85] focus:shadow-none active:opacity-[0.85] active:shadow-none disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none",type:"button","data-ripple-light":"true",children:"Reservar"})})})]})})};H.propTypes={imgSrc:a.string.isRequired,title:a.string.isRequired,description:a.string,location:a.string,tipo:a.string,identificadorDpto:a.string,qtyBathroom:a.number,qtyBed:a.number,qtyRoom:a.number,price:a.number,idApartment:a.number};export{H as D,B as T,z as a};
