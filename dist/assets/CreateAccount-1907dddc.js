import{u as h,j as e,N as b,a as f}from"./index-21aef9be.js";import{c as N,a as l,u as g,o as j}from"./index.esm-89d4b198.js";import{S as w}from"./sweetalert2.all-3c97b21a.js";import{w as y}from"./sweetalert2-react-content.es-4b029d04.js";import{l as v}from"./iconoTurismoReal_logo-2c08bdb6.js";const E="https://fastapi-gv342xsbja-tl.a.run.app/crear_cliente",C=N({firstName:l().required("El nombre es obligatorio").min(3,"El nombre debe tener al menos 3 caracteres").max(20,"El nombre debe tener como máximo 20 caracteres"),lastName:l().required("El apellido es obligatorio").min(3,"El apellido debe tener al menos 3 caracteres").max(20,"El apellido debe tener como máximo 20 caracteres"),username:l().required("El usuario es obligatorio").min(3,"El usuario debe tener al menos 3 caracteres").max(20,"El usuario debe tener como máximo 20 caracteres"),email:l().email("El correo no es válido").required("El correo es obligatorio").min(8,"El correo debe tener al menos 8 caracteres").max(50,"El correo debe tener como máximo 50 caracteres"),password:l().required("La contraseña es obligatoria").min(8,"La contraseña debe tener al menos 8 caracteres").max(20,"La contraseña debe tener como máximo 20 caracteres")}),I=()=>{const c=h(),{register:t,handleSubmit:d,formState:{errors:s}}=g({resolver:j(C)}),a=y(w),x=async r=>{try{a.fire({title:e.jsx("p",{children:"Creando Usuario"}),didOpen:()=>{a.showLoading()}});const o={name:r.firstName,last_name:r.lastName,username:r.username,rut:"",email:r.email,password:r.password},i=new URLSearchParams(o).toString(),u=`${E}?${i}`,n=new Headers;n.append("Accept","application/json"),n.append("Content-Type","application/json");const m=await fetch(u,{method:"POST",headers:n,redirect:"follow"});if(!m.ok){const p=await m.json();throw new Error(p.detail||"Error desconocido")}a.close(),a.fire({icon:"success",title:"Usuario Creado",text:"Usuario creado con exito"}),c("/inicio-sesion")}catch(o){let i="Algo salió mal!";o.message&&(i=o.message),setTimeout(()=>{a.close(),a.fire({icon:"error",title:"Oops...",text:i})},10)}};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"flex flex-col lg:flex-row min-h-screen justify-center bg-gray-100",children:e.jsx("div",{className:"w-3/5  flex items-center justify-center  select-none",children:e.jsxs("div",{className:"bg-white p-4 sm:p-10 py-6 sm:py-20 rounded-3xl border-1 border-white shadow-lg w-full sm:w-3/4",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx("img",{className:"w-24 h-24 rounded-full shadow-md",src:v,alt:"Avatar"}),e.jsx("h1",{className:"text-4xl font-semibold py-10 text-gray-900",children:"Portal de Turismo Real"}),e.jsx("p",{className:"font-medium text-2xl text-gray-500 mt-4",children:"Crear Cuenta"})]}),e.jsxs("form",{onSubmit:d(x),children:[e.jsxs("div",{className:"mt-8",children:[e.jsxs("div",{className:"flex justify-around  items-center",children:[e.jsxs("div",{className:"py-2 w-full mr-1",children:[e.jsx("label",{className:"text-lg font-medium",children:"Nombre"}),e.jsx("input",{className:"w-full border rounded-xl p-4 mt-1",type:"text",name:"firstName",...t("firstName"),placeholder:"Ingresa tu nombre",autoComplete:"firstName"}),s.firstName&&e.jsx("p",{className:"text-xs text-red-500",children:s.firstName.message})]}),e.jsxs("div",{className:"py-2 w-full ml-1",children:[e.jsx("label",{className:"text-lg font-medium",children:"Apellido"}),e.jsx("input",{className:"w-full border rounded-xl p-4 mt-1",type:"text",name:"lastName",...t("lastName"),placeholder:"Ingresa tu apellido",autoComplete:"lastName"}),s.lastName&&e.jsx("p",{className:"text-xs text-red-500",children:s.lastName.message})]})]}),e.jsxs("div",{className:"py-2",children:[e.jsx("label",{className:"text-lg font-medium",children:"Usuario"}),e.jsx("input",{className:"w-full border rounded-xl p-4 mt-1",type:"text",name:"username",...t("username"),placeholder:"Ingresa tu usuario",autoComplete:"username"}),s.username&&e.jsx("p",{className:"text-xs text-red-500",children:s.username.message})]}),e.jsxs("div",{className:"py-2",children:[e.jsx("label",{className:"text-lg font-medium",children:"Correo electrónico"}),e.jsx("input",{className:"w-full border rounded-xl p-4 mt-1",type:"text",name:"email",...t("email"),autoComplete:"email",placeholder:"Ingresa tu Correo electrónico"}),s.email&&e.jsx("p",{className:"text-xs text-red-500",children:s.email.message})]}),e.jsxs("div",{className:"py-2",children:[e.jsx("label",{className:"text-lg font-medium",children:"Contraseña"}),e.jsx("input",{type:"password",className:"w-full border rounded-xl p-4 mt-1",name:"password",...t("password"),placeholder:"Ingresa tu Contraseña",autoComplete:"current-password"}),s.password&&e.jsx("p",{className:"text-xs text-red-500",children:s.password.message})]})]}),e.jsx("div",{className:"mt-4",children:e.jsx("button",{type:"submit",className:" w-full select-none rounded-lg bg-blue-500 py-3.5 px-7 text-center align-middle font-sans text-sm font-bold uppercase text-white shadow-md shadow-blue-500/20 transition-all hover:shadow-lg hover:shadow-blue-500/40 focus:opacity-[0.85] focus:shadow-none active:opacity-[0.85] active:shadow-none disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none",children:"¡ Registrate !"})})]}),e.jsx("div",{className:"mt-4 flex items-center justify-center",children:e.jsx(b,{to:f.HOME,className:"font-semibold text-base text-gray-900 hover:text-blue-700",children:"Volver al Inicio"})}),e.jsx("p",{className:"text-xs text-gray-600 text-center mt-8",children:"© 2023 Turismo Real"})]})})})})};export{I as default};
